<!DOCTYPE html>

<head>
	<script type="text/javascript" src="../libs/feng3d.js"></script>
	<style>
		html,
		body {
			overflow: hidden;
			width: 100%;
			height: 100%;
			margin: 0;
			padding: 0;
		}
		
		#glcanvas {
			width: 100%;
			height: 100%;
			touch-action: none;
		}
	</style>
	<script type="text/javascript">
		var geval = eval;

		var receivedCall = null;
		window.load = function (js, html, css) {
			receivedCall = {
				js: js,
				html: html,
				css: css
			};
		};

		window.load = function (js, html, css) {
			if (html) {
				document.body.innerHTML += html;
			}
			if (css) {
				var style = document.createElement("style");
				style.type = "text/css";
				style.innerHTML = css;
				document.body.appendChild(style);
			}
			if (js) {
				try {
					geval(js);
				} catch (err) {
					var pre = document.createElement("pre");
					pre.appendChild(document.createTextNode(err));
					document.body.insertBefore(pre, document.body.firstChild);
				}
			}
			var canvas = document.getElementById("glcanvas");
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
		};

		if (receivedCall) {
			window.load(receivedCall.js, receivedCall.html, receivedCall.css);
		}

		// Resize
        window.addEventListener("resize", function () {

            var canvas = document.getElementById("glcanvas");
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
        });
	</script>
</head>

<body>
	<canvas id="glcanvas"></canvas>
</body>

</html>